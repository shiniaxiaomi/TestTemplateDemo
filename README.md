# 业务场景
k2发送增加或删除待办请求，数据中心执行增删操作，并记录操作将其通过RabbitMQ发送给个人门户

# 具体实现
- 从k2接收到删除或增加待办的请求后，在数据中心进行删除或增加代办操作时，做切面操作，
将事务中的增删和没在事务中的增删做AOP切面，当没在事务中的增删成功后则直接保存增删信息到本地同步队列，
当在事务中的增删待办时，则先将删除数据放入ThreadLocal，等待事务结束后在将其放入本地同步队列，如事务回滚，
则清空ThreadLocal中的数据
- 另起一个线程去消费同步队列消息，判断队列空不空，不空则消费并发送消息到mq
- 通过

# 技术
